<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="ewills" />
  <link rel="manifest" href="/site.webmanifest" />
  <!-- Open Graph / Facebook Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://electronicwills.org/">
  <meta property="og:title" content="States with Electronic Will Legislation">
  <meta property="og:description" content="Interactive map showing which US states have adopted electronic will legislation and electronic estate planning documents.">
  <meta property="og:image" content="https://electronicwills/og-image.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://electroncwills.org/">
  <meta name="twitter:title" content="States with Electronic Will Legislation">
  <meta name="twitter:description" content="Interactive map showing which US states have adopted electronic will legislation and electronic estate planning documents.">
  <meta name="twitter:image" content="https://electronicwills.org/og-image.jpg">
  <title>States with Electronic Will Legislation</title>
  <style>
   /* Title styling */
   .title {
       position: absolute;
       top: 1rem;
       left: 50%;
       transform: translateX(-50%);
       background: white;
       padding: 0.5rem 1rem;
       border: 1px solid #ccc;
       border-radius: 0.5rem;
       box-shadow: 0 0 5px rgba(0,0,0,0.1);
       font-weight: bold;
       font-size: 1.2em;
   }
   /* Basic reset and layout */
   body, html {
     margin: 0;
     padding: 0;
     height: 100%;
     font-family: sans-serif;
     position: relative;
   }
   /* Menu content styling */
   .menu-content {
     position: fixed;
     top: 0;
     left: -300px;
     width: 250px;
     height: 100%;
     background-color: white;
     box-shadow: 2px 0 5px rgba(0,0,0,0.2);
     transition: left 0.3s ease;
     z-index: 999;
     padding: 2rem 1rem;
     display: flex;
     flex-direction: column;
     justify-content: space-between;
   }
   .menu-content.open {
     left: 0;
   }
   .menu-links {
     display: flex;
     flex-direction: column;
     margin-top: 2rem;
   }
   .menu-links a {
     padding: 0.8rem 0;
     text-decoration: none;
     color: #007acc;
     font-weight: 500;
     font-size: 1.1rem;
     border-bottom: 1px solid #eee;
     transition: color 0.3s;
   }
   .menu-links a:hover {
     color: #005a9c;
   }
   .close-menu {
     position: absolute;
     top: 1rem;
     right: 1rem;
     font-size: 2rem;
     background: none;
     border: none;
     cursor: pointer;
     color: #333;
     z-index: 1002;
     transition: color 0.3s;
     padding: 0;
     line-height: 1;
     width: 30px;
     height: 30px;
     display: flex;
     align-items: center;
     justify-content: center;
   }
   .close-menu:hover {
     color: #007acc;
   }
   .overlay {
     position: fixed;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     background-color: rgba(0,0,0,0.5);
     z-index: 998;
     display: none;
   }
   .overlay.open {
     display: block;
   }
   /* Modal styling */
   .modal {
     display: none;
     position: fixed;
     z-index: 2000;
     left: 0;
     top: 0;
     width: 100%;
     height: 100%;
     overflow: auto;
     background-color: rgba(0,0,0,0.6);
   }
   .modal-content {
     background-color: #fefefe;
     margin: 10% auto;
     padding: 20px;
     border: 1px solid #888;
     border-radius: 8px;
     width: 80%;
     max-width: 600px;
     box-shadow: 0 4px 8px rgba(0,0,0,0.2);
   }
   .modal-header {
     display: flex;
     justify-content: space-between;
     align-items: center;
     padding-bottom: 10px;
     border-bottom: 1px solid #ddd;
   }
   .modal-header h2 {
     margin: 0;
     color: #007acc;
   }
   .close {
     color: #aaa;
     font-size: 28px;
     font-weight: bold;
     cursor: pointer;
   }
   .close:hover,
   .close:focus {
     color: black;
     text-decoration: none;
   }
   .modal-body {
     padding: 15px 0;
   }
   .statute-link {
     display: inline-block;
     margin-top: 15px;
     padding: 8px 16px;
     background-color: #007acc;
     color: white;
     text-decoration: none;
     border-radius: 4px;
     font-weight: bold;
   }
   .statute-link:hover {
     background-color: #005a9c;
   }
   /* Styling for multiple statute links */
   .statute-links {
     margin-top: 15px;
   }
   .statute-links a {
     display: block;
     margin-bottom: 10px;
     padding: 8px 16px;
     background-color: #007acc;
     color: white;
     text-decoration: none;
     border-radius: 4px;
     font-weight: bold;
   }
   .statute-links a:hover {
     background-color: #005a9c;
   }
   /* Styling for copyright in the hamburger menu */
   .menu-footer {
     text-align: center;
     font-size: 0.8rem;
     color: #666;
     margin-top: auto;
     padding-top: 1rem;
     border-top: 1px solid #eee;
   }
   /* Logo Menu Styling */
   .logo-menu {
     position: fixed;
     top: 15px;
     left: 15px;
     z-index: 1001;
     display: block;
     background: white;
     border-radius: 50%;
     box-shadow: 0 2px 5px rgba(0,0,0,0.1);
     transition: transform 0.2s ease;
     width: 50px;
     height: 50px;
     overflow: hidden;
     cursor: pointer;
   }
   .logo-menu:hover {
     transform: scale(1.1);
     box-shadow: 0 3px 8px rgba(0,0,0,0.15);
   }
   .logo {
     display: block;
     width: 100%;
     height: 100%;
     object-fit: contain;
   }
   /* Back Button Styling */
   .back-button {
     position: fixed;
     top: 15px;
     right: 15px;
     z-index: 1001;
     display: none; /* Hidden by default, shown when not on home page */
     background: white;
     border-radius: 50%;
     box-shadow: 0 2px 5px rgba(0,0,0,0.1);
     transition: transform 0.2s ease;
     width: 50px;
     height: 50px;
     text-align: center;
     line-height: 50px;
     font-size: 24px;
     font-weight: bold;
     text-decoration: none;
     color: #007acc;
     cursor: pointer;
   }
   .back-button:hover {
     transform: scale(1.1);
     box-shadow: 0 3px 8px rgba(0,0,0,0.15);
   }
   /* Styling for the SVG container */
   .map-container {
     width: 100%;
     height: 100vh;
     position: relative;
   }
   /* Bottom legend styling */
   .bottom-legend {
     position: fixed;
     bottom: 1rem;
     left: 0;
     right: 0;
     display: flex;
     justify-content: center;
     gap: 2rem;
     background: rgba(255, 255, 255, 0.9);
     padding: 0.8rem 1rem;
     border-top: 1px solid #ccc;
     box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
     font-size: 1rem;
     z-index: 100;
   }
   .legend-item {
     display: flex;
     align-items: center;
     margin: 0 0.5rem;
   }
   .legend-item span {
     display: inline-block;
     width: 1.2em;
     height: 1.2em;
     margin-right: 0.5em;
     vertical-align: middle;
   }
   .legend-item .e-wills {
     background: #007acc; /* Blue color */
   }
   .legend-item .other-docs {
     background: #44aa44; /* Green color */
   }
  </style>
</head>
<body>
<!-- Logo Menu Button -->
<div class="logo-menu" id="logoMenu">
  <img src="e-logo.png" alt="Electronic Wills Logo" class="logo" width="50" height="50">
</div>

<!-- Back Button (hidden by default) -->
<a href="/" class="back-button" id="backButton">
  ←
</a>

<div class="menu-content" id="menuContent">
  <button class="close-menu" id="closeMenu">&times;</button>
  <div class="menu-links">
    <a href="about.html">About</a>
  </div>
  <div class="menu-footer">
    &copy; 2025 Mitch Mitchell. All rights reserved.
  </div>
</div>

<div class="overlay" id="overlay"></div>

<div class="title">States with electronic estate planning legislation</div>

<div class="map-container">
  <!-- Using object tag to embed the SVG while preserving interactivity -->
  <object id="us-map" data="us-map.svg" type="image/svg+xml" width="100%" height="100%">
    <p>Your browser does not support SVG. Please upgrade to a modern browser.</p>
  </object>
</div>

<!-- Legend: indicates what the colors mean -->
<div class="bottom-legend">
  <div class="legend-item"><span class="e-wills"></span> Authorizes electronic wills</div>
  <div class="legend-item"><span class="other-docs"></span> Authorizes e-wills & electronic estate planning documents</div>
</div>

<!-- Modal for displaying state information -->
<div id="stateModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalTitle">State Name</h2>
      <span class="close">&times;</span>
    </div>
    <div class="modal-body" id="modalBody">
      <p id="modalDescription">Information about the state's electronic will legislation will appear here.</p>
      <div id="statuteLinks" class="statute-links"></div>
    </div>
  </div>
</div>

<script>
// Define states with electronic will legislation, including statute information
window.stateStatutes = {
  "AZ": {
    authorizes: "e-wills",
    statute: "Ariz. Rev. Stat. § 14-2518",
    url: "https://www.azleg.gov/viewdocument/?docName=https://www.azleg.gov/ars/14/02518.htm",
    description: "Arizona allows for electronic wills that meet specific requirements for electronic signatures and witnessing."
  },
  "CO": {
    authorizes: "both",
    statute: ["Colo. Rev. Stat. § 15-11-1301", "Colo. Rev. Stat. § 15-25-101"],
    url: [
      "https://leg.colorado.gov/bills/hb21-1004",
      "https://leg.colorado.gov/bills/hb24-1248"
    ],
    urlLabel: ["View Uniform Electronic Wills Act", "View Uniform Non-Testamentary Estate Planning Documents Act"],
    description: "Colorado has adopted the Uniform Electronic Wills Act and the Uniform Non-Testamentary Estate Planning Documents Act."
  },
  "DC": {
    authorizes: "e-wills",
    statute: "D.C. Code § 18-901",
    url: "https://code.dccouncil.us/dc/council/code/sections/18-901",
    description: "The District of Columbia has adopted the Uniform Electronic Wills Act."
  },
  "FL": {
    authorizes: "e-wills",
    statute: "Fla. Stat. § 732.522",
    url: "http://www.leg.state.fl.us/Statutes/index.cfm?App_mode=Display_Statute&URL=0700-0799/0732/Sections/0732.522.html",
    description: "Florida permits electronic wills and provides specific requirements for their execution and storage."
  },
  "ID": {
    authorizes: "e-wills",
    statute: "Idaho Code § 15-2-1101",
    url: "https://legislature.idaho.gov/statutesrules/idstat/title15/t15ch2/sect15-2-1101/",
    description: "Idaho has adopted the Uniform Electronic Wills Act."
  },
  "IL": {
    authorizes: "both",
    statute: "755 ILCS 6/1-1",
    url: "https://www.ilga.gov/legislation/ilcs/ilcs5.asp?ActID=4176",
    description: "Illinois has enacted the Electronic Wills, Electronic Estate Planning Documents, and Remote Witnesses Act."
  },
  "IN": {
    authorizes: "e-wills",
    statute: "Ind. Code § 29-1-21-1",
    url: "https://iga.in.gov/legislative/laws/2023/ic/titles/029#29-1-21-1",
    description: "Indiana allows electronic wills with specific provisions for electronic signatures and witnessing."
  },
  "MD": {
    authorizes: "e-wills",
    statute: "Md. Code, Est. & Trusts § 4-101",
    url: "https://mgaleg.maryland.gov/mgawebsite/Laws/StatuteText?article=get&section=4-101&enactments=False&archived=False",
    description: "Maryland's legislation permits electronic signatures for wills and defines parameters for their validity."
  },
  "MN": {
    authorizes: "e-wills",
    statute: "Minn. Stat. § 524.1-201",
    url: "https://www.revisor.mn.gov/statutes/cite/524.1-201",
    description: "Minnesota has updated its probate code to include provisions for electronic wills."
  },
  "ND": {
    authorizes: "both",
    statute: ["N.D. Cent. Code § 30.1-37-02", "N.D. Cent. Code § 59-22-01"],
    url: [
      "https://ndlegis.gov/cencode/t30-1c37.pdf",
      "https://ndlegis.gov/assembly/69-2025/regular/documents/25-0258-03000.pdf"
    ],
    urlLabel: ["View Uniform Electronic Wills Act", "View Uniform Electronic Estate Planning Documents Act"],
    description: "North Dakota has adopted both the Uniform Electronic Wills Act and the Uniform Electronic Estate Planning Documents Act."
  },
  "NV": {
    authorizes: "e-wills",
    statute: "Nev. Rev. Stat. § 133.085",
    url: "https://www.leg.state.nv.us/NRS/NRS-133.html#NRS133Sec085",
    description: "Nevada was one of the first states to authorize electronic wills, with specific technological requirements."
  },
  "OK": {
    authorizes: "both",
    statute: "Okla. Stat. tit. 84, § 901",
    url: "https://www.oscn.net/applications/oscn/index.asp?level=1&ftdb=STOKST84#Chapter9-UniformElectronicEstatePlanningDocumentsAct",
    description: "Oklahoma has enacted the Uniform Electronic Estate Planning Documents Act, which includes provisions for electronic wills."
  },
  "UT": {
    authorizes: "e-wills",
    statute: "Utah Code § 75-2-1401",
    url: "https://le.utah.gov/xcode/Title75/Chapter2/75-2-S1401.html",
    description: "Utah has adopted the Uniform Electronic Wills Act."
  },
  "WA": {
    authorizes: "both",
    statute: "Wash. Rev. Code § 11.135.005",
    url: "https://app.leg.wa.gov/rcw/default.aspx?cite=11.135.005",
    description: "Washington has enacted the Uniform Electronic Estate Planning Documents Act, which includes provisions for electronic wills."
  },
  "WI": {
    authorizes: "both",
    statute: "Wis. Stat. Sec. 140.147",
    url: "https://docs.legis.wisconsin.gov/statutes/statutes/140/147",
    description: "Wisconsin allows for electronic wills and other estate planning documents under specific conditions, including requiring attorney supervision for remote notarization and signing."
  }
};

// Define a mapping of state codes to full state names
const stateNames = {
  "AL": "Alabama", "AK": "Alaska", "AZ": "Arizona", "AR": "Arkansas", "CA": "California",
  "CO": "Colorado", "CT": "Connecticut", "DE": "Delaware", "DC": "District of Columbia",
  "FL": "Florida", "GA": "Georgia", "HI": "Hawaii", "ID": "Idaho", "IL": "Illinois",
  "IN": "Indiana", "IA": "Iowa", "KS": "Kansas", "KY": "Kentucky", "LA": "Louisiana",
  "ME": "Maine", "MD": "Maryland", "MA": "Massachusetts", "MI": "Michigan", "MN": "Minnesota",
  "MS": "Mississippi", "MO": "Missouri", "MT": "Montana", "NE": "Nebraska", "NV": "Nevada",
  "NH": "New Hampshire", "NJ": "New Jersey", "NM": "New Mexico", "NY": "New York",
  "NC": "North Carolina", "ND": "North Dakota", "OH": "Ohio", "OK": "Oklahoma", "OR": "Oregon",
  "PA": "Pennsylvania", "RI": "Rhode Island", "SC": "South Carolina", "SD": "South Dakota",
  "TN": "Tennessee", "TX": "Texas", "UT": "Utah", "VT": "Vermont", "VA": "Virginia",
  "WA": "Washington", "WV": "West Virginia", "WI": "Wisconsin", "WY": "Wyoming"
};

document.addEventListener("DOMContentLoaded", function() {
  // Menu functionality
  const logoMenu = document.getElementById("logoMenu");
  const menuContent = document.getElementById("menuContent");
  const closeMenu = document.getElementById("closeMenu");
  const overlay = document.getElementById("overlay");
  const backButton = document.getElementById("backButton");
  
  // Modal elements
  const modal = document.getElementById("stateModal");
  const modalTitle = document.getElementById("modalTitle");
  const modalDescription = document.getElementById("modalDescription");
  const statuteLinks = document.getElementById("statuteLinks");
  const closeBtn = document.querySelector(".close");
  
  // Function to toggle menu
  function toggleMenu() {
    menuContent.classList.toggle("open");
    overlay.classList.toggle("open");
  }
  
  // Event listeners for menu toggle
  logoMenu.addEventListener("click", toggleMenu);
  closeMenu.addEventListener("click", toggleMenu);
  overlay.addEventListener("click", toggleMenu);
  
  // Check if we're on a page other than the home page
  function checkForBackButton() {
    // Get the current path
    const path = window.location.pathname;
    
    // If we're not on the home page (root or index.html), show back button
    if (path !== "/" && path !== "/index.html" && !path.endsWith("/")) {
      backButton.style.display = "block";
    }
  }
  
  // Run the check when the page loads
  checkForBackButton();
  
  // Setup modal close behavior
  closeBtn.onclick = function() {
    modal.style.display = "none";
  };
  
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  };
  
  // Add event listeners to handle SVG communication
  const usMap = document.getElementById("us-map");
  
  // Wait for the SVG to load before trying to interact with it
  usMap.addEventListener("load", function() {
    const svgDoc = usMap.contentDocument;
    
    // Create sets from the statute object for easier checking
    const eWillStates = new Set(
      Object.keys(window.stateStatutes).filter(state => 
        window.stateStatutes[state].authorizes === "e-wills" || window.stateStatutes[state].authorizes === "both"
      )
    );
    
    // Define states that authorize other electronic estate planning documents
    const otherDocsStates = new Set(
      Object.keys(window.stateStatutes).filter(state => 
        window.stateStatutes[state].authorizes === "both"
      )
    );
    
    // Select all <path> elements within the SVG that have an id attribute
    const paths = svgDoc.querySelectorAll('path[id]');
    
    // Apply colors to the paths
    paths.forEach(path => {
      const stateId = path.id.toUpperCase();
      
      // Apply highlighting classes
      if (eWillStates.has(stateId)) {
        path.style.fill = "#007acc"; // Blue for e-wills
      }
      if (otherDocsStates.has(stateId)) {
        path.style.fill = "#44aa44"; // Green for both
      }
      
      // Add click event handler for states with legislation
      if (eWillStates.has(stateId) || otherDocsStates.has(stateId)) {
        path.style.cursor = "pointer";
        
        path.addEventListener("click", function() {
          // Get the state information
          const stateName = stateNames[stateId] || stateId;
          const stateInfo = window.stateStatutes[stateId];
          
          // Update the modal with state information
          modalTitle.textContent = stateName;
          modalDescription.textContent = stateInfo.description;
          
          // Clear any existing statute links
          statuteLinks.innerHTML = '';
          
          // Handle different types of statute links
          if (Array.isArray(stateInfo.statute)) {
            // Multiple statutes
            stateInfo.statute.forEach((stat, index) => {
              const link = document.createElement('a');
              link.href = stateInfo.url[index];
              link.textContent = stateInfo.urlLabel ? stateInfo.urlLabel[index] : `View ${stat}`;
              link.className = 'statute-link';
              link.target = '_blank';
              statuteLinks.appendChild(link);
            });
          } else {
            // Single statute
            const link = document.createElement('a');
            link.href = stateInfo.url;
            link.textContent = `View ${stateInfo.statute}`;
            link.className = 'statute-link';
            link.target = '_blank';
            statuteLinks.appendChild(link);
          }
          
          // Display the modal
          modal.style.display = "block";
        });
      }
    });
    
    // Handle DC special case
    const dcElement = svgDoc.getElementById("DC");
    if (dcElement && "DC" in window.stateStatutes) {
      dcElement.style.fill = "#007acc"; // Blue for e-wills
      dcElement.style.cursor = "pointer";
      
      dcElement.addEventListener("click", function() {
        const stateInfo = window.stateStatutes["DC"];
        
        modalTitle.textContent = "District of Columbia";
        modalDescription.textContent = stateInfo.description;
        
        // Clear any existing statute links
        statuteLinks.innerHTML = '';
        
        // Create link for DC
        const link = document.createElement('a');
        link.href = stateInfo.url;
        link.textContent = `View ${stateInfo.statute}`;
        link.className = 'statute-link';
        link.target = '_blank';
        statuteLinks.appendChild(link);
        
        modal.style.display = "block";
      });
    }
  });
});
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Wait for the SVG to load
    const usMap = document.getElementById('us-map');
    
    // Create a tooltip div in the HTML document
    const tooltip = document.createElement('div');
    tooltip.id = 'map-tooltip';
    tooltip.style.cssText = 'position: absolute; padding: 5px 10px; background: white; border: 1px solid #ccc; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.2); pointer-events: none; opacity: 0; transition: opacity 0.2s; z-index: 1000; font-family: sans-serif; font-size: 12px;';
    document.body.appendChild(tooltip);
    
    usMap.addEventListener('load', function() {
      const svgDoc = usMap.contentDocument;
      const paths = svgDoc.querySelectorAll('path[id]');
      
      // Add event listeners to each path
      paths.forEach(path => {
        const stateId = path.id.toUpperCase();
        const stateName = window.stateNames[stateId] || stateId;
        
        path.addEventListener('mouseover', function(e) {
          tooltip.textContent = stateName;
          tooltip.style.opacity = '1';
          updateTooltipPosition(e);
        });
        
        path.addEventListener('mousemove', function(e) {
          updateTooltipPosition(e);
        });
        
        path.addEventListener('mouseout', function() {
          tooltip.style.opacity = '0';
        });
      });
      
      // Handle special case for DC
      const dcElement = svgDoc.getElementById("DC");
      if (dcElement) {
        dcElement.addEventListener('mouseover', function(e) {
          tooltip.textContent = "District of Columbia";
          tooltip.style.opacity = '1';
          updateTooltipPosition(e);
        });
        
        dcElement.addEventListener('mousemove', function(e) {
          updateTooltipPosition(e);
        });
        
        dcElement.addEventListener('mouseout', function() {
          tooltip.style.opacity = '0';
        });
      }
    });
    
    function updateTooltipPosition(e) {
      // This is the key function that needed fixing
      // Get the bounding rectangle of the SVG object in the main document
      const rect = usMap.getBoundingClientRect();
      
      // Calculate position: we need to translate from SVG document coordinates to main document
      // e.clientX and e.clientY are relative to the SVG viewport
      // Add those to the position of the SVG object in the page
      const x = rect.left + e.clientX;
      const y = rect.top + e.clientY;
      
      // Position the tooltip near but not directly under the cursor
      tooltip.style.left = (window.scrollX + x + 10) + 'px';
      tooltip.style.top = (window.scrollY + y + 10) + 'px';
    }
  });
</script>
<!-- Privacy-first analytics -->
<script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>
</html>